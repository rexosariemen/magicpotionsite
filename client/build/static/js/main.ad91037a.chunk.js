/*! For license information please see main.ad91037a.chunk.js.LICENSE.txt */
(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{19:function(e,t,a){e.exports=a(43)},24:function(e,t,a){},25:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var r=a(0),s=a.n(r),n=a(13),i=a.n(n),l=(a(24),a(25),a(3)),o=a(2),c=a(14),m=a(15),u=a(18),h=a(17),d=function(e){return!isNaN(+e)},p=function(e,t,a,r,s,n,i,l,o,c,m,u){var h={quantity:"",firstName:"",lastName:"",add1:"",city:"",state:"",zip:"",email:"",phoneNumber:"",ccNum:"",exp:""};e.touched.quantity&&(d(t)||(h.quantity="Quantity of potion must be a number."),t<1&&(h.quantity="Must add at least 1 Potion."),t>3&&(h.quantity="Only maximum of 3 potions are allowed.")),e.touched.firstName&&(a.length<2?h.firstName="First name must be at least 2 characters.":a.length>15&&(h.firstName="First name must be 15 or less characters.")),e.touched.lastName&&(r.length<2?h.lastName="Last name must be at least 2 characters.":r.length>15&&(h.lastName="Last name must be 15 or less characters.")),e.touched.street1&&e.address.street1.split(" ").length<3&&(h.add1="Please provide a valid street address."),e.touched.city&&n.length<2&&(h.city="Please provide a valid city name."),e.touched.state&&(i||(h.state="Select your state.")),e.touched.zip&&(d(l)||(h.zip="Zip Code should be a number."),(l.length<5||l.length>5)&&(h.zip="Invalid Zip Code.")),e.touched.email&&(/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(o)||(h.email="Please provide a valid email address."));if(e.touched.phoneNumber&&!/(?:(?:(\s*\(?([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9])\s*)|([2-9]1[02-9]|[2-9][02-8]1|[2-9][02-8][02-9]))\)?\s*(?:[.-]\s*)?)([2-9]1[02-9]|[2-9][02-9]1|[2-9][02-9]{2})\s*(?:[.-]\s*)?([0-9]{4})/.test(c)&&(h.phoneNumber="Please use only valid phone characters: digits, parenthesis, dashes, plus, space, pound, asterisk, period, comma, or the letters e, x, t."),e.touched.ccNum){var p=e.payment.ccNum;p?function(e){var t=null;a=e,/^(?:4[0-9]{12}(?:[0-9]{3})?)$/.test(a)?t="visa":!function(e){return/^(?:5[1-5][0-9]{14})$/.test(e)}(e)?!function(e){return/^(?:3[47][0-9]{13})$/.test(e)}(e)?!function(e){return/^(?:6(?:011|5[0-9][0-9])[0-9]{12})$/.test(e)}(e)?!function(e){return/^(?:3(?:0[0-5]|[68][0-9])[0-9]{11})$/.test(e)}(e)?function(e){return/^(?:(?:2131|1800|35\d{3})\d{11})$/.test(e)}(e)&&(t="jcb"):t="dinerclub":t="discover":t="americanexpress":t="mastercard";var a;return!!t}(p)||(h.ccNum="Please enter a valid card number."):h.ccNum="Please provide your card number."}if(e.touched.exp){var v=e.payment.exp;v?!0!==N(v)&&(h.exp+=N(v)):h.exp="Please provide the expiration date on your card"}return h};function N(e){if(!/\d\d\/\d\d/.test(e))return"Expiry date format must be MM/YY";var t=e.split("/");if(t[0]<1||t[0]>12)return"Expiry month must be from 00 to 12";var a=new Date,r=a.getFullYear()/100|"0";return!(new Date(r+t[1],t[0],1)<a)||"Expiry date must be this month or later"}var v=a(16),y=a.n(v),f=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(c.a)(this,a);for(var r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(e=t.call.apply(t,[this].concat(s))).initialState={quantity:"",total:"",firstName:"",lastName:"",address:{street1:"",street2:"",city:"",state:"",zip:""},email:"",phoneNumber:"",payment:{ccNum:"",exp:""},touched:{quantity:!1,total:!1,firstName:!1,lastName:!1,phoneNumber:!1},exceedMaxQuantiy:""},e.state=e.initialState,e.errors={},e.successOrder="none-display",e.badOrder="node-display",e.handleChange=function(t){var a,r=t.target,s=r.name,n=r.value;"quantity"===s?e.setState((a={},Object(o.a)(a,s,n),Object(o.a)(a,"total",(49.99*n).toString()),a)):Object.keys(e.state.address).includes(s)?e.setState({address:Object(l.a)(Object(l.a)({},e.state.address),{},Object(o.a)({},s,n))}):Object.keys(e.state.payment).includes(s)?e.setState({payment:Object(l.a)(Object(l.a)({},e.state.payment),{},Object(o.a)({},s,n))}):e.setState(Object(o.a)({},s,n));e.successOrder="none-display",e.badOrder="none-display"},e.handleFormReset=function(){e.setState((function(){return e.initialState}))},e.isErrors=function(e){return e.every((function(e){return""===e}))},e.handleSubmit=function(t){t.preventDefault();var a={firstName:e.state.firstName,lastName:e.state.lastName,email:e.state.email,address:e.state.address,phone:e.state.phoneNumber,quantity:e.state.quantity,total:e.state.total,payment:e.state.payment};e.isErrors(Object.values(e.errors))&&y.a.post("/magic",a).then((function(){e.handleFormReset(),e.successOrder="success-order",e.forceUpdate()})).catch((function(t){400===t.response.status?(e.badOrder="bad-order",e.setState({exceedMaxQuantiy:"Order of more than 3 magic potions cannot be made by the same client for a given month!"})):(e.handleFormReset(),e.successOrder="success-order"),console.log("Server Errors: ".concat(t.response.status,":").concat(t.response.statusMessage))}))},e.handleBlur=function(t){return function(){e.setState({touched:Object(l.a)(Object(l.a)({},e.state.touched),{},Object(o.a)({},t,!0))})}},e}return Object(m.a)(a,[{key:"render",value:function(){return this.errors=p(this.state,this.state.quantity,this.state.firstName,this.state.lastName,this.state.address.street1,this.state.address.city,this.state.address.state,this.state.address.zip,this.state.email,this.state.phoneNumber,this.state.ccNum,this.state.exp),s.a.createElement("div",{className:"main"},s.a.createElement("form",{className:"form",onSubmit:this.handleSubmit},s.a.createElement("div",{className:"magic"},s.a.createElement("h3",null,"Magic Potion"),s.a.createElement("div",{className:"potion"},s.a.createElement("div",{className:"img-div"},s.a.createElement("img",{src:"https://cdna.artstation.com/p/assets/images/images/009/838/868/large/anna-emelyanova-bottle-3.jpg?1521148475",height:"150",alt:"potionImage"})),s.a.createElement("div",{className:"quantity"},s.a.createElement("label",{htmlFor:"quantity"},"Qty\xa0\xa0"),s.a.createElement("input",{type:"number",id:"quantity",name:"quantity",max:"3",required:!0,value:this.state.quantity,invalid:this.errors.quantity,onBlur:this.handleBlur("quantity"),onChange:this.handleChange}),s.a.createElement("em",{className:"form-errors"},this.errors.quantity),s.a.createElement("label",{htmlFor:"total"},"Total"),s.a.createElement("input",{type:"text",id:"total",name:"total",value:this.state.total,readOnly:!0})))),s.a.createElement("div",{className:"contact-info"},s.a.createElement("h4",{className:this.successOrder},"Your order has been placed!"),s.a.createElement("h4",{className:this.badOrder},this.state.exceedMaxQuantiy),s.a.createElement("h3",null,"Contact | Billing Information"),s.a.createElement("div",{className:"name"},s.a.createElement("input",{type:"text/plain",name:"firstName",placeholder:"First Name",value:this.state.firstName,invalid:this.errors.firstName,onBlur:this.handleBlur("firstName"),onChange:this.handleChange}),s.a.createElement("em",{className:"form-errors"},this.errors.firstName),s.a.createElement("input",{type:"text/plain",name:"lastName",placeholder:"Last Name",value:this.state.lastName,invalid:this.errors.lastName,onBlur:this.handleBlur("lastName"),onChange:this.handleChange}),s.a.createElement("em",{className:"form-errors"},this.errors.lastName)),s.a.createElement("div",{className:"street1"},s.a.createElement("input",{type:"text/plain",name:"street1",placeholder:"Address Line 1",value:this.state.address.street1,invalid:this.errors.add1,onBlur:this.handleBlur("street1"),onChange:this.handleChange}),s.a.createElement("em",{className:"form-errors"},this.errors.add1),s.a.createElement("input",{type:"text/plain",name:"street2",placeholder:"Address Line 2",value:this.state.address.street2,onChange:this.handleChange})),s.a.createElement("div",{className:"street2"},s.a.createElement("input",{type:"text/plain",name:"city",placeholder:"City",value:this.state.address.city,invalid:this.errors.city,onBlur:this.handleBlur("city"),onChange:this.handleChange}),s.a.createElement("em",{className:"form-errors"},this.errors.city),s.a.createElement("select",{name:"state",value:this.state.address.state,invalid:this.errors.state,onBlur:this.handleBlur("state"),onChange:this.handleChange},s.a.createElement("option",{value:""},"State"),s.a.createElement("option",{value:"CA"},"CA"),s.a.createElement("option",{value:"NY"},"NY"),s.a.createElement("option",{value:"MO"},"MO"),s.a.createElement("option",{value:"NJ"},"NJ"),s.a.createElement("option",{value:"MA"},"MA")),s.a.createElement("em",{className:"form-errors"},this.errors.state),s.a.createElement("input",{type:"text/plain",name:"zip",placeholder:"Zip Code",value:this.state.address.zip,invalid:this.errors.zip,onBlur:this.handleBlur("zip"),onChange:this.handleChange}),s.a.createElement("em",{className:"form-errors"},this.errors.zip)),s.a.createElement("div",{className:"contact"},s.a.createElement("input",{type:"text/plain",name:"email",placeholder:"Email Address",value:this.state.email,invalid:this.errors.email,onBlur:this.handleBlur("email"),onChange:this.handleChange}),s.a.createElement("em",{className:"form-errors"},this.errors.email),s.a.createElement("input",{type:"text/plain",name:"phoneNumber",placeholder:"Phone Number",value:this.state.phoneNumber,invalid:this.errors.phoneNumber,onBlur:this.handleBlur("phoneNumber"),onChange:this.handleChange}),s.a.createElement("em",{className:"form-errors"},this.errors.phoneNumber)),s.a.createElement("div",{className:"creditCard"},s.a.createElement("input",{type:"text/plain",name:"ccNum",required:!0,placeholder:"Credit Card Number",value:this.state.payment.ccNum,invalid:this.errors.ccNum,onBlur:this.handleBlur("ccNum"),onChange:this.handleChange}),s.a.createElement("em",{className:"form-errors"},this.errors.ccNum),s.a.createElement("input",{type:"text/plain",name:"exp",placeholder:"mm/yy",required:!0,value:this.state.payment.exp,invalid:this.errors.exp,onBlur:this.handleBlur("exp"),onChange:this.handleChange}),s.a.createElement("em",{className:"form-errors"},this.errors.exp)),s.a.createElement("div",{className:"submitButton"},s.a.createElement("input",{type:"submit"})))))}}]),a}(r.Component);var b=function(){return s.a.createElement("div",null,s.a.createElement(f,null))};var E=function(){return s.a.createElement("div",{className:"App"},s.a.createElement("h2",null,"Curology Magic Potion",s.a.createElement("span",null,s.a.createElement("img",{alt:"",height:"50px",src:"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcRUM5k7XvVB87iuS7oepkQppa4H6nI4pL4n9g&usqp=CAU"}))),s.a.createElement(b,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[19,1,2]]]);
//# sourceMappingURL=main.ad91037a.chunk.js.map